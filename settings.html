

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Settings &mdash; sg-jira-bridge v0.4.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Debugging" href="debugging.html" />
    <link rel="prev" title="Quick Start" href="quickstart.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
    <a href='http://developer.shotgridsoftware.com'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='_static/logo_sg@2x.png'/>
    
    </a>
    

          
          
          <a href="index.html" class="icon icon-home">
            sg-jira-bridge
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Settings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logging">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sync-settings">Sync Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#useful-patterns">Useful Patterns</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Developer Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="services.html">Installing as a Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="known_issues.html">Known Issues &amp; Compatibility Notes</a></li>
</ul>


    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>sg-jira-bridge</b> v0.4.1.<br>
    
    For more information, please visit
    <a class=custom_post_menu href='https://developer.shotgridsoftware.com'>The ShotGrid developer portal.</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/sg-jira-bridge'>here</a>.

    </div>
    <style>
        p.privacy_links { margin: 4px 0px;}
    </style>
    <p class="privacy_links"><a data-opt-in-preferences href="javascript:;">Privacy settings</a></p>
    <p class="privacy_links"><a data-wat-linkname="manage-ccpa-settings-footer-link" href="javascript:;">Do not sell my personal information</a></p>
    <p class="privacy_links"><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement">Privacy/Cookies</a></p>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sg-jira-bridge</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Settings</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="settings">
<h1>Settings<a class="headerlink" href="#settings" title="Permalink to this heading"></a></h1>
<p>Settings are defined in the <code class="docutils literal notranslate"><span class="pre">settings.py</span></code> file in the root of the repo.
Since the settings are stored in a Python file, it allows for a lot of
flexiblity to adapt to your specific environment requirements if needed.
The settings file contains three main sections:</p>
<section id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this heading"></a></h2>
<p>Credentials are retrieved by default from environment variables:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SGJIRA_SG_SITE</span></code>: the ShotGrid site url</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SGJIRA_SG_SCRIPT_NAME</span></code>: a ShotGrid script user name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SGJIRA_SG_SCRIPT_KEY</span></code>: the ShotGrid script user Application Key</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SGJIRA_JIRA_SITE</span></code>: the Jira server url</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SGJIRA_JIRA_USER</span></code>: the system name of the Jira user used to
connect for the sync.  This is usually your email address you
sign in to Jira with. Jira does not have a concept of a “script”
user so this will need to be the designated user account that
will control the sync updates. It will need appropriate
permissions to make any changes required.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SGJIRA_JIRA_USER_SECRET</span></code>: the Jira user password or API Key.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Jira Cloud</strong> requires the use of an API token and will not work with
a user password. See <a class="reference external" href="https://confluence.atlassian.com/x/Vo71Nw">https://confluence.atlassian.com/x/Vo71Nw</a> for information
on how to generate a token.</p>
<p><strong>Jira Server</strong> will still work with a user password and does not support
API tokens.</p>
<p>For more information, see: <a class="reference external" href="https://developer.atlassian.com/cloud/jira/platform/jira-rest-api-basic-authentication/">https://developer.atlassian.com/cloud/jira/platform/jira-rest-api-basic-authentication/</a></p>
</div>
<p>You may set these in your environment or by installing
<a class="reference external" href="https://pypi.org/project/python-dotenv">python-dotenv</a> and defining these
in a <code class="docutils literal notranslate"><span class="pre">.env</span></code> file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ShotGrid credentials</span>
<span class="n">SGJIRA_SG_SITE</span><span class="o">=</span><span class="s1">&#39;https://mysite.shotgrid.autodesk.com&#39;</span>
<span class="n">SGJIRA_SG_SCRIPT_NAME</span><span class="o">=</span><span class="s1">&#39;sg-jira-bridge&#39;</span>
<span class="n">SGJIRA_SG_SCRIPT_KEY</span><span class="o">=</span><span class="s1">&#39;01234567@abcdef0123456789&#39;</span>

<span class="c1"># Jira credentials</span>
<span class="n">SGJIRA_JIRA_SITE</span><span class="o">=</span><span class="s1">&#39;https://mystudio.atlassian.net&#39;</span>
<span class="n">SGJIRA_JIRA_USER</span><span class="o">=</span><span class="s1">&#39;richard.hendricks@piedpiper.com&#39;</span>
<span class="n">SGJIRA_JIRA_USER_SECRET</span><span class="o">=</span><span class="s1">&#39;youkn0wwh@tapa$5word1smAKeitag0odone3&#39;</span>
</pre></div>
</div>
</section>
<section id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Permalink to this heading"></a></h2>
<p>The SG-Jira-Bridge uses standard Python logging. The logging configuration is
stored in a <code class="docutils literal notranslate"><span class="pre">LOGGING</span></code> <em>dict</em> using the standard <a class="reference external" href="https://docs.python.org/3.9/library/logging.config.html#module-logging.config" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging.config</span></code></a> format.</p>
</section>
<section id="sync-settings">
<h2>Sync Settings<a class="headerlink" href="#sync-settings" title="Permalink to this heading"></a></h2>
<p>The sync settings are stored in a <code class="docutils literal notranslate"><span class="pre">SYNC</span></code> <em>dict</em> in the format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SYNC</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;sync_settings_name&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># The Syncer class to use with the module name included</span>
        <span class="s2">&quot;syncer&quot;</span><span class="p">:</span> <span class="s2">&quot;sg_jira.MyCustomSyncer&quot;</span><span class="p">,</span>
        <span class="c1"># And the specific settings which are passed to its __init__() method</span>
        <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;my_setting_name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Setting Value&quot;</span>
        <span class="p">},</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Each key is a settings name that contains a dictionary containing the syncer
and the settings to use. The key is the settings name used when composing the
URL for SG Jira Bridge. For example,
<code class="docutils literal notranslate"><span class="pre">http://localhost:9090/sg2jira/my_settings</span></code> uses the settings named
<code class="docutils literal notranslate"><span class="pre">my_settings</span></code>.</p>
<ul class="simple">
<li><p><strong>syncer</strong>: The syncer class to use in the format <code class="docutils literal notranslate"><span class="pre">module_name.class_name</span></code>.</p></li>
<li><p><strong>settings</strong>: A dictionary containing the settings for the syncer where the
key is the setting name and value is it’s value. These settings will be used
as parameters when instantiating the syncer class.</p></li>
</ul>
<p>Each set of <code class="docutils literal notranslate"><span class="pre">SYNC</span></code> settings defined in your <code class="docutils literal notranslate"><span class="pre">settings.py</span></code> file must
define a single <a class="reference internal" href="developer.html#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a>.</p>
<p>Custom syncers can be referenced in the settings file with their module path
and their specific settings. You can easily allow the bridge to load your
syncer by adding the directory that contains your custom syncer using
<code class="docutils literal notranslate"><span class="pre">sys.path</span></code>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Additional paths can be added for custom syncers</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s2">&quot;./examples&quot;</span><span class="p">))</span>

<span class="n">SYNC</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># The syncer class to use</span>
        <span class="s2">&quot;syncer&quot;</span><span class="p">:</span> <span class="s2">&quot;sg_jira.TaskIssueSyncer&quot;</span><span class="p">,</span>
        <span class="c1"># And the specific settings which are passed to its __init__() method</span>
        <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span>
        <span class="p">},</span>
    <span class="p">},</span>
    <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># Example of a custom syncer with an additional parameter to define</span>
        <span class="c1"># a log level.</span>
        <span class="s2">&quot;syncer&quot;</span><span class="p">:</span> <span class="s2">&quot;example_sync.ExampleSync&quot;</span><span class="p">,</span>
        <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;log_level&quot;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span>
        <span class="p">},</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="useful-patterns">
<h3>Useful Patterns<a class="headerlink" href="#useful-patterns" title="Permalink to this heading"></a></h3>
<p>Rather than having to edit your settings in order to enable/disable testing,
it may be useful to have two settings for your custom syncer, one for
production and one for testing. In your testing settings you may wish to
simply enable <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> level logging messages.</p>
<p>You can take it a step further and have a base settings definition and then
load that for other settings and only override the settings you need. This
overly simplified example might look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">copy</span>

<span class="n">SYNC</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># The syncer class to use</span>
        <span class="s2">&quot;syncer&quot;</span><span class="p">:</span> <span class="s2">&quot;sg_jira.TaskIssueSyncer&quot;</span><span class="p">,</span>
        <span class="c1"># And the specific settings which are passed to its __init__() method</span>
        <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span>
            <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;orange&quot;</span><span class="p">,</span>
            <span class="s2">&quot;do_something&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;log_level&quot;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span>
        <span class="p">},</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># create settings for default_test from default</span>
<span class="n">SYNC</span><span class="p">[</span><span class="s2">&quot;test_settings&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">SYNC</span><span class="p">[</span><span class="s2">&quot;default&quot;</span><span class="p">])</span>

<span class="c1"># override the settings we need</span>
<span class="n">SYNC</span><span class="p">[</span><span class="s2">&quot;test_settings&quot;</span><span class="p">][</span><span class="s2">&quot;settings&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
    <span class="s2">&quot;log_level&quot;</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span>
    <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="quickstart.html" class="btn btn-neutral float-left" title="Quick Start" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="debugging.html" class="btn btn-neutral float-right" title="Debugging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Autodesk.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 

  <script type="text/javascript">
    window.wafCCPAForceShow = true;
    (function(a,b,c,d){
      a='https://tags.tiqcdn.com/utag/autodesk/micro-basic/prod/utag.js';
      b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
      a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
  </script>


</body>
</html>