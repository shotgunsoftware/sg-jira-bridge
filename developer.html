

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Developer Resources &mdash; sg-jira-bridge v0.6.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installing as a Service" href="services.html" />
    <link rel="prev" title="Debugging" href="debugging.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
    <a href='https://help.autodesk.com/view/SGDEV/ENU/'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='_static/logo_sg@2x.png'/>
    
    </a>
    

          
          
          <a href="index.html" class="icon icon-home">
            sg-jira-bridge
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developer Resources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#customizing-the-workflow">Customizing the Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#structure-overview">Structure Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bridge">Bridge</a></li>
<li class="toctree-l3"><a class="reference internal" href="#syncers">Syncers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sync-handlers">Sync Handlers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#accepting-the-event">Accepting the Event</a></li>
<li class="toctree-l4"><a class="reference internal" href="#processing-the-event">Processing the Event</a></li>
<li class="toctree-l4"><a class="reference internal" href="#entityissuehandler">EntityIssueHandler</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#connections-to-flow-production-tracking-and-jira">Connections to Flow Production Tracking and Jira</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#shotgunsession">ShotgunSession</a></li>
<li class="toctree-l4"><a class="reference internal" href="#jirasession">JiraSession</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Bridge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sg_jira.Bridge"><code class="docutils literal notranslate"><span class="pre">Bridge</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Syncers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#syncer">Syncer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#synchandlers">SyncHandlers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synchandler">SyncHandler</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">EntityIssueHandler</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enablesyncinghandler">EnableSyncingHandler</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#utils">Utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sg_jira.utils.utf8_to_unicode"><code class="docutils literal notranslate"><span class="pre">utf8_to_unicode()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sg_jira.utils.unicode_to_utf8"><code class="docutils literal notranslate"><span class="pre">unicode_to_utf8()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sg_jira.errors">Errors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sg_jira.errors.InvalidSyncValue"><code class="docutils literal notranslate"><span class="pre">InvalidSyncValue</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sg_jira.errors.InvalidShotgunValue"><code class="docutils literal notranslate"><span class="pre">InvalidShotgunValue</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sg_jira.errors.InvalidJiraValue"><code class="docutils literal notranslate"><span class="pre">InvalidJiraValue</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tests-ci">Tests &amp; CI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#continuous-integration-ci">Continuous Integration (CI)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="services.html">Installing as a Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic_syncer.html">Generic Syncer</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="known_issues.html">Known Issues &amp; Compatibility Notes</a></li>
</ul>


    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>sg-jira-bridge</b> v0.6.0.<br>
    
    For more information, please visit
    <a class=custom_post_menu href='https://help.autodesk.com/view/SGDEV/ENU/'>The Flow Production Tracking developer portal.</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/sg-jira-bridge'>here</a>.

    </div>
    <style>
        p.privacy_links { margin: 4px 0px;}
    </style>
    <p class="privacy_links"><a data-opt-in-preferences href="javascript:;">Privacy settings</a></p>
    <p class="privacy_links"><a data-wat-linkname="manage-ccpa-settings-footer-link" href="javascript:;">Do not sell my personal information</a></p>
    <p class="privacy_links"><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement">Privacy/Cookies</a></p>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sg-jira-bridge</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Developer Resources</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="developer-resources">
<h1>Developer Resources<a class="headerlink" href="#developer-resources" title="Permalink to this heading"></a></h1>
<section id="customizing-the-workflow">
<h2>Customizing the Workflow<a class="headerlink" href="#customizing-the-workflow" title="Permalink to this heading"></a></h2>
<p>Flow Production Tracking Jira Bridge is structured so that studios can
tailor the workflow to meet their specific needs. Because both
Flow Production Tracking and Jira are highly customizable, exposing
a handful of settings would not be sufficient. Therefore, the bridge
has been structured to allow subclassing the various components that
control syncing and handling events in order to give full control over
the logic of what is being done.</p>
<section id="structure-overview">
<h3>Structure Overview<a class="headerlink" href="#structure-overview" title="Permalink to this heading"></a></h3>
<img alt="_images/sg_jira_bridge_classes.png" src="_images/sg_jira_bridge_classes.png" />
</section>
<section id="bridge">
<h3>Bridge<a class="headerlink" href="#bridge" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="#sg_jira.Bridge" title="sg_jira.Bridge"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bridge</span></code></a> is the main class for the sync. It handles the
connections to both Flow Production Tracking and Jira, manages sync settings
from the <code class="docutils literal notranslate"><span class="pre">settings.py</span></code> file, and initiates the calls to sync
in Flow Production Tracking and Jira.</p>
<p>This class is intended to be used as-is without requiring customization
since the details of the workflow logic are defined in the <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a>
and <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a>. When creating a new instance
of <a class="reference internal" href="#sg_jira.Bridge" title="sg_jira.Bridge"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bridge</span></code></a>, typically you’ll use the <a class="reference internal" href="#sg_jira.Bridge.get_bridge" title="sg_jira.Bridge.get_bridge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Bridge.get_bridge()</span></code></a>
factory method and pass in the full path to the settings file.</p>
</section>
<section id="syncers">
<h3>Syncers<a class="headerlink" href="#syncers" title="Permalink to this heading"></a></h3>
<p>The <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> is in charge of initially determining whether to accept or
reject events from Flow Production Tracking and Jira for syncing. This is done with the
<a class="reference internal" href="#sg_jira.Syncer.accept_shotgun_event" title="sg_jira.Syncer.accept_shotgun_event"><code class="xref py py-meth docutils literal notranslate"><span class="pre">accept_shotgun_event()</span></code></a> and <a class="reference internal" href="#sg_jira.Syncer.accept_jira_event" title="sg_jira.Syncer.accept_jira_event"><code class="xref py py-meth docutils literal notranslate"><span class="pre">accept_jira_event()</span></code></a>
methods. It performs initial basic checks on
the event to determine if it should immediately be rejected without needing
to ask the handlers. These checks should be completely independent of the
implementation details of the handlers. For example, a Flow Production Tracking event can
be inspected to ensure it has the basic required fields in an event like the
<code class="docutils literal notranslate"><span class="pre">meta</span></code> and <code class="docutils literal notranslate"><span class="pre">project</span></code> keys. Without either of these keys in the event,
no handlers could process the event anyway.</p>
<p>If nothing in the event immediately disqualifies itself from consideration,
the <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> then hands the event off to each
<a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a> to accept the event or not. The first handler
that accepts the event is then returned to process the event.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only one handler may process an event since having multiple handlers process
a single event could cause issues where one handler undoes what a previous
one did for the same event.</p>
</div>
<p>Syncers must be sub-classed from the base <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> class in order to
implement a list of Handlers to dispatch events to. The <code class="docutils literal notranslate"><span class="pre">handlers()</span></code> property
must be overridden but additional parameters can be accepted by the class as
well, to pass on to Handlers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">.syncer</span><span class="w"> </span><span class="kn">import</span> <span class="n">Syncer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.handlers</span><span class="w"> </span><span class="kn">import</span> <span class="n">TaskIssueHandler</span><span class="p">,</span> <span class="n">NoteCommentHandler</span><span class="p">,</span> <span class="n">EnableSyncingHandler</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TaskIssueSyncer</span><span class="p">(</span><span class="n">Syncer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sync Flow Production Tracking Tasks as Jira Issues.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">issue_type</span><span class="o">=</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Instatiate a new Task/Issue syncer for the given bridge.</span>

<span class="sd">        :param str issue_type: Jira Issue type to use when creating new Issues.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_issue_type</span> <span class="o">=</span> <span class="n">issue_type</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TaskIssueSyncer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_task_issue_handler</span> <span class="o">=</span> <span class="n">TaskIssueHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_issue_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_note_comment_handler</span> <span class="o">=</span> <span class="n">NoteCommentHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># A handler combining the Task &lt;-&gt; Issue handler and the Note &lt;-&gt; Comment</span>
        <span class="c1"># handler. Task syncing to Jira starts if the Task &quot;Sync in Jira&quot; checkbox</span>
        <span class="c1"># is turned on. Notes linked to a Task being actively synced are automatically</span>
        <span class="c1"># synced without having to manually select them. A full sync is performed</span>
        <span class="c1"># when the Task checkbox is turned on.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_enable_syncing_handler</span> <span class="o">=</span> <span class="n">EnableSyncingHandler</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_task_issue_handler</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_note_comment_handler</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">handlers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of :class:`~handlers.SyncHandler` instances.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_enable_syncing_handler</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_task_issue_handler</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_note_comment_handler</span>
        <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="sync-handlers">
<h3>Sync Handlers<a class="headerlink" href="#sync-handlers" title="Permalink to this heading"></a></h3>
<p>A <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a> holds the logic for syncing values between a
Flow Production Tracking Entity type and a Jira resource and is owned by a <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a>
instance. The base class defines the interface all handlers should support
and provides a set of helper methods useful for implementations.</p>
<p>The following methods must be overridden from the <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> base class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># public methods</span>
<span class="n">accept_shotgun_event</span><span class="p">()</span>
<span class="n">accept_jira_event</span><span class="p">()</span>
<span class="n">process_shotgun_event</span><span class="p">()</span>
<span class="n">process_jira_event</span><span class="p">()</span>

<span class="c1"># private property</span>
<span class="n">_sg_jira_status_mapping</span><span class="p">()</span>
</pre></div>
</div>
<section id="setup">
<h4>Setup<a class="headerlink" href="#setup" title="Permalink to this heading"></a></h4>
<p>When a syncer is first loaded, it calls <code class="docutils literal notranslate"><span class="pre">setup()</span></code> on each
<a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a>. This can be used to check the Jira and Flow Production Tracking
sites for specific conditions or setup requirements, ensuring that the sync can
safely happen.</p>
<p>Additionally, this can be used to cache value(s) from either site if there are
queries that might be done repeatedly that slow things down during the sync
process.</p>
</section>
<section id="accepting-the-event">
<h4>Accepting the Event<a class="headerlink" href="#accepting-the-event" title="Permalink to this heading"></a></h4>
<p>After the <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> has done its initial checks to decide whether to
accept an event, it then passes the event off to its handlers to check for
themselves. Each <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a> must define a
<a class="reference internal" href="#sg_jira.handlers.SyncHandler.accept_shotgun_event" title="sg_jira.handlers.SyncHandler.accept_shotgun_event"><code class="xref py py-meth docutils literal notranslate"><span class="pre">accept_shotgun_event()</span></code></a> and
<a class="reference internal" href="#sg_jira.handlers.SyncHandler.accept_jira_event" title="sg_jira.handlers.SyncHandler.accept_jira_event"><code class="xref py py-meth docutils literal notranslate"><span class="pre">accept_jira_event()</span></code></a> which overrides the
<a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> base class. This is where the more specific logic for accepting
or rejecting an event can occur. Checks for things like whether the event is
for a Flow Production Tracking Entity type or Jira resource type that the handler cares about
are appropriate. Or for example, you may wish to check a Flow Production Tracking event to see
if the Task field that was changed, is one that is supported by your handler.</p>
<p>The goal of these methods is to quickly determine whether to process the event
<em>given the information provided</em>. <strong>Queries are expensive</strong>. If after checking
all of the given event info, there are still more questions to answer that
require making additional queries to Flow Production Tracking or Jira, it is perfectly
fine for these to be done in the
<a class="reference internal" href="#sg_jira.handlers.SyncHandler.process_shotgun_event" title="sg_jira.handlers.SyncHandler.process_shotgun_event"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_shotgun_event()</span></code></a> or
<a class="reference internal" href="#sg_jira.handlers.SyncHandler.process_jira_event" title="sg_jira.handlers.SyncHandler.process_jira_event"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_jira_event()</span></code></a> methods later.</p>
</section>
<section id="processing-the-event">
<h4>Processing the Event<a class="headerlink" href="#processing-the-event" title="Permalink to this heading"></a></h4>
<p><a class="reference internal" href="#sg_jira.handlers.SyncHandler.process_shotgun_event" title="sg_jira.handlers.SyncHandler.process_shotgun_event"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_shotgun_event()</span></code></a> and
<a class="reference internal" href="#sg_jira.handlers.SyncHandler.process_jira_event" title="sg_jira.handlers.SyncHandler.process_jira_event"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_jira_event()</span></code></a> process the event data,
perform any additional validation required to determine whether to continue
with the sync (which may include additional queries to Jira and/or Flow Production Tracking),
and then do the actual update.</p>
<p>Once the event itself has been validated fully, the actual data that has
changed is validated and converted to a format appropriate for the recipient
of the sync. There are private methods in the base classes that perform some
of the heavy lifting for this.</p>
<p>If the event was processed successfully, it returns <code class="docutils literal notranslate"><span class="pre">True</span></code>. If the event was
not processed for any reason it returns <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</section>
<section id="entityissuehandler">
<h4>EntityIssueHandler<a class="headerlink" href="#entityissuehandler" title="Permalink to this heading"></a></h4>
<p>In addition to the base <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a>, there is also a
<a class="reference internal" href="#sg_jira.handlers.EntityIssueHandler" title="sg_jira.handlers.EntityIssueHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">EntityIssueHandler</span></code></a> which serves as a base class for handlers
that sync between a Flow Production Tracking Entity type and a Jira Issue resource. Since this
is probably how a majority of workflows will work, it is provided to add an
additional level of convenience.</p>
<p>It inherits from <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a>. When using
<code class="xref py py-class docutils literal notranslate"><span class="pre">EntityIssueHander</span></code> as a base class, the following methods
must be overridden <em>in addition to the ones required by</em>
<a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_get_jira_issue_field_for_shotgun_field</span><span class="p">()</span>
<span class="n">_supported_shotgun_fields_for_jira_event</span><span class="p">()</span>
<span class="n">_get_shotgun_entity_field_for_issue_field</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this heading"></a></h2>
<section id="connections-to-flow-production-tracking-and-jira">
<h3>Connections to Flow Production Tracking and Jira<a class="headerlink" href="#connections-to-flow-production-tracking-and-jira" title="Permalink to this heading"></a></h3>
<p>These classes manage the specific connections to Flow Production Tracking and Jira.</p>
<section id="shotgunsession">
<h4>ShotgunSession<a class="headerlink" href="#shotgunsession" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sg_jira.shotgun_session.</span></span><span class="sig-name descname"><span class="pre">ShotgunSession</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/shotgun_session.html#ShotgunSession"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession" title="Permalink to this definition"></a></dt>
<dd><p>Wraps a <a class="reference external" href="https://developers.shotgridsoftware.com/python-api/reference.html#shotgun_api3.shotgun.Shotgun" title="(in python-api vv3.8.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">shotgun_api3.shotgun.Shotgun</span></code></a> instance and provide some helpers and
session caches.</p>
<p>Ensures all the values we get from Flow Production Tracking are unicode and not utf-8 encoded
strings. Utf-8 encodes unicode values before sending them to Flow Production Tracking.</p>
<p>Instantiate a <a class="reference external" href="https://developers.shotgridsoftware.com/python-api/reference.html#shotgun_api3.shotgun.Shotgun" title="(in python-api vv3.8.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">shotgun_api3.shotgun.Shotgun</span></code></a> with the sanitized parameters.</p>
<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession.current_user">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_user</span></span><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession.current_user" title="Permalink to this definition"></a></dt>
<dd><p>Return the Flow Production Tracking user used for the connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Flow Production Tracking record dictionary with an <cite>id</cite> key and a <cite>type</cite> key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/shotgun_session.html#ShotgunSession.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession.setup" title="Permalink to this definition"></a></dt>
<dd><p>Check the Flow Production Tracking site and cache site level values.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – if the Flow Production Tracking site was not correctly configured to
be used with this bridge.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession.assert_entity_type">
<span class="sig-name descname"><span class="pre">assert_entity_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/shotgun_session.html#ShotgunSession.assert_entity_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession.assert_entity_type" title="Permalink to this definition"></a></dt>
<dd><p>Check if the given entity exists in Flow Production Tracking site.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking Entity type.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – if the entity does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession.assert_field">
<span class="sig-name descname"><span class="pre">assert_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_unique</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/shotgun_session.html#ShotgunSession.assert_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession.assert_field" title="Permalink to this definition"></a></dt>
<dd><p>Check if the given field with the given type exists for the given Flow Production Tracking
Entity type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking Entity type.</p></li>
<li><p><strong>field_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking field name, e.g. ‘sg_my_precious’.</p></li>
<li><p><strong>field_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking field type, e.g. ‘text’.</p></li>
<li><p><strong>check_unique</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – When <code class="docutils literal notranslate"><span class="pre">True</span></code>, check the specified field
is configured to only accept unique values. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – if the field does not exist or does not have the
expected type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession.get_field_schema">
<span class="sig-name descname"><span class="pre">get_field_schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/shotgun_session.html#ShotgunSession.get_field_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession.get_field_schema" title="Permalink to this definition"></a></dt>
<dd><p>Return the Flow Production Tracking schema for the given Entity field.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Flow Production Tracking schemas are cached and the bridge needs to be restarted
if schemas are changed in Flow Production Tracking.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking Entity type.</p></li>
<li><p><strong>field_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking field name, e.g. ‘sg_my_precious’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The Flow Production Tracking schema for the given field as a dictionary or <cite>None</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession.clear_cached_field_schema">
<span class="sig-name descname"><span class="pre">clear_cached_field_schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/shotgun_session.html#ShotgunSession.clear_cached_field_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession.clear_cached_field_schema" title="Permalink to this definition"></a></dt>
<dd><p>Clear all cached Flow Production Tracking schema or just the cached schema for the given
Flow Production Tracking Entity type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking Entity type or None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession.get_entity_name_field">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_entity_name_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/shotgun_session.html#ShotgunSession.get_entity_name_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession.get_entity_name_field" title="Permalink to this definition"></a></dt>
<dd><p>Return the Flow Production Tracking name field to use for the specified entity type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The entity type to get the name field for.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name field for the specified entity type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession.is_project_entity">
<span class="sig-name descname"><span class="pre">is_project_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/shotgun_session.html#ShotgunSession.is_project_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession.is_project_entity" title="Permalink to this definition"></a></dt>
<dd><p>Return <cite>True</cite> if the given Flow Production Tracking Entity type is a project Entity,
that is an Entity linked to a Project, <cite>False</cite> if it is a non-project
Entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking Entity type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession.consolidate_entity">
<span class="sig-name descname"><span class="pre">consolidate_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shotgun_entity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retired_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/shotgun_session.html#ShotgunSession.consolidate_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession.consolidate_entity" title="Permalink to this definition"></a></dt>
<dd><p>Consolidate the given Flow Production Tracking Entity: collect additional field values,
ensure the Entity name is available under a “name” key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shotgun_entity</strong> – A Flow Production Tracking Entity dictionary with at least its id
and its type.</p></li>
<li><p><strong>fields</strong> – An optional list of fields to add to the query.</p></li>
<li><p><strong>retired_only</strong> – An optional boolean indicating if the entity we’re consolidating has been retired.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The consolidated Flow Production Tracking Entity or <cite>None</cite> if it can’t be retrieved.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession.match_entity_by_name">
<span class="sig-name descname"><span class="pre">match_entity_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shotgun_project</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/shotgun_session.html#ShotgunSession.match_entity_by_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession.match_entity_by_name" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve a Flow Production Tracking Entity with the given name from the given list of
Entity types.</p>
<p>Project Flow Production Tracking Entities are restricted to the given Flow Production Tracking Project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A name to match.</p></li>
<li><p><strong>entity_types</strong> – A list of Flow Production Tracking Entity types to consider.</p></li>
<li><p><strong>shotgun_project</strong> – A Flow Production Tracking Project dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Flow Production Tracking Entity dictionary or <cite>None</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.shotgun_session.ShotgunSession.get_entity_page_url">
<span class="sig-name descname"><span class="pre">get_entity_page_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shotgun_entity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/shotgun_session.html#ShotgunSession.get_entity_page_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.shotgun_session.ShotgunSession.get_entity_page_url" title="Permalink to this definition"></a></dt>
<dd><p>Return the Flow Production Tracking page url for the given Entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shotgun_entity</strong> – A Flow Production Tracking Entity dictionary with at least a ‘type’
key and an ‘id’ key.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="jirasession">
<h4>JiraSession<a class="headerlink" href="#jirasession" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sg_jira.jira_session.</span></span><span class="sig-name descname"><span class="pre">JiraSession</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jira_site</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession" title="Permalink to this definition"></a></dt>
<dd><p>Extend <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.JIRA</span></code> with helpers.</p>
<p>Instantiate a JiraSession.</p>
<p>Connect to the given Jira site with given parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>jira_site</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Jira site url.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – on Jira connection errors.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jira_site</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Instantiate a JiraSession.</p>
<p>Connect to the given Jira site with given parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>jira_site</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Jira site url.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – on Jira connection errors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession.setup" title="Permalink to this definition"></a></dt>
<dd><p>Check the Jira site and cache site level values.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – if the Jira site was not correctly configured to
be used with this bridge.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.is_jira_cloud">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_jira_cloud</span></span><a class="headerlink" href="#sg_jira.jira_session.JiraSession.is_jira_cloud" title="Permalink to this definition"></a></dt>
<dd><p>Return if the site is a JIRA Cloud site.</p>
<dl class="field-list simple">
<dt class="field-odd">Rerturns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the site is hosted in the cloud, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.assert_field">
<span class="sig-name descname"><span class="pre">assert_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession.assert_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession.assert_field" title="Permalink to this definition"></a></dt>
<dd><p>Check if the given field exists in Jira site.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>field_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Jira field name.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – if the entity does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.get_jira_issue_field_id">
<span class="sig-name descname"><span class="pre">get_jira_issue_field_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession.get_jira_issue_field_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession.get_jira_issue_field_id" title="Permalink to this definition"></a></dt>
<dd><p>Return the Jira field id for the Issue field with the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The id as a string or None if the field is unknown.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.jira_shotgun_type_field">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">jira_shotgun_type_field</span></span><a class="headerlink" href="#sg_jira.jira_session.JiraSession.jira_shotgun_type_field" title="Permalink to this definition"></a></dt>
<dd><p>Return the id of the Jira field used to store the type of a linked Flow Production Tracking
Entity.</p>
<p>Two custom fields are used in Jira to store a reference to a Flow Production Tracking
Entity: its Flow Production Tracking Entity type and id. This method returns the id of
the Jira field used to store the Flow Production Tracking type.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.jira_shotgun_id_field">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">jira_shotgun_id_field</span></span><a class="headerlink" href="#sg_jira.jira_session.JiraSession.jira_shotgun_id_field" title="Permalink to this definition"></a></dt>
<dd><p>Return the id of the Jira field used to store the id of a linked Flow Production Tracking
Entity.</p>
<p>Two custom fields are used in Jira to store a reference to a Flow Production Tracking
Entity: its Flow Production Tracking Entity type and id. This method returns the id of
the Jira field used to store the Flow Production Tracking id.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.jira_shotgun_url_field">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">jira_shotgun_url_field</span></span><a class="headerlink" href="#sg_jira.jira_session.JiraSession.jira_shotgun_url_field" title="Permalink to this definition"></a></dt>
<dd><p>Return the id of the Jira field used to store the url of a linked Flow Production Tracking
Entity.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.sanitize_jira_update_value">
<span class="sig-name descname"><span class="pre">sanitize_jira_update_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jira_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_field_schema</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession.sanitize_jira_update_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession.sanitize_jira_update_value" title="Permalink to this definition"></a></dt>
<dd><p>Perform sanity checks for the given Jira value and ensure it can be used
to update the Jira field with the given schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Jira value which can safely be used to update the Jira field.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#UserWarning" title="(in Python v3.9)"><strong>UserWarning</strong></a> – if a safe value can’t be obtained.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.find_jira_assignee_for_issue">
<span class="sig-name descname"><span class="pre">find_jira_assignee_for_issue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_issue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession.find_jira_assignee_for_issue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession.find_jira_assignee_for_issue" title="Permalink to this definition"></a></dt>
<dd><p>Return a Jira user the given issue can be assigned to, based
on the given email address.</p>
<p>A Jira Project must be specified when creating an Issue. A Jira Issue must
be specified when editing an Issue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jira_project</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.Project</span></code> instance or None.</p></li>
<li><p><strong>jira_issue</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.Issue</span></code> instance or None.</p></li>
<li><p><strong>user_email</strong> – An email address as a string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.User</span></code> instance or None.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – if no Project nor Issue is specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.find_jira_user">
<span class="sig-name descname"><span class="pre">find_jira_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_issue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_assignment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession.find_jira_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession.find_jira_user" title="Permalink to this definition"></a></dt>
<dd><p>Return a Jira an assignable user or with browse permission for the given
Project or Issue, with the given email address. Either a jira_project
or jira_issue must be provided.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Due to problems with user searching in Jira, this method always
returns assignable users for the time being.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_email</strong> – An email address as a string.</p></li>
<li><p><strong>jira_project</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.Project</span></code> instance or None.</p></li>
<li><p><strong>jira_issue</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.Issue</span></code> instance or None.</p></li>
<li><p><strong>for_assignment</strong> – A boolean, if <cite>False</cite> the user just needs to have read
permission. If <cite>True</cite> the user needs to be suitable for
Issue assignments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.User</span></code> instance or None.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – if no Project nor Issue is specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.set_jira_issue_status">
<span class="sig-name descname"><span class="pre">set_jira_issue_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jira_issue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_status_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession.set_jira_issue_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession.set_jira_issue_status" title="Permalink to this definition"></a></dt>
<dd><p>Attempt to change the Jira Issue status to the given value.</p>
<p>Lookup for a Jira transition where the target status is the
given one and try to apply it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jira_issue</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.Issue</span></code> instance.</p></li>
<li><p><strong>jira_status</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Jira status name, e.g. <cite>In Progress</cite>.</p></li>
<li><p><strong>comment</strong> – A string, a comment to apply to the Jira transition.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>True</cite> if the status could be set, <cite>False</cite> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.create_issue_from_data">
<span class="sig-name descname"><span class="pre">create_issue_from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jira_project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession.create_issue_from_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession.create_issue_from_data" title="Permalink to this definition"></a></dt>
<dd><p>Create an Issue from the given data.</p>
<p>Sanity check the data against Jira create meta data. Try to amend the
data, if possible, to complete the Issue creation. Raise <cite>ValueError</cite> if
the data can’t be amended to complete the Issue creation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jira_project</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.Project</span></code> instance.</p></li>
<li><p><strong>issue_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The target Issue type name.</p></li>
<li><p><strong>data</strong> – A dictionary where keys are Jira Issue field ids and values
are Jira values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.Issue</span></code> instance.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – if the Jira create meta data can’t be retrieved.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – if invalid and unfixable data is provided.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.get_jira_issue_edit_meta">
<span class="sig-name descname"><span class="pre">get_jira_issue_edit_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jira_issue</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession.get_jira_issue_edit_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession.get_jira_issue_edit_meta" title="Permalink to this definition"></a></dt>
<dd><p>Return the edit metadata for the given Jira Issue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>jira_issue</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.Issue</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The Jira Issue edit metadata <cite>fields</cite> property.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – if the edit metadata can’t be retrieved for the
given Issue.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.jira_session.JiraSession.get_project_issue_type_fields">
<span class="sig-name descname"><span class="pre">get_project_issue_type_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jira_project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/jira_session.html#JiraSession.get_project_issue_type_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.jira_session.JiraSession.get_project_issue_type_fields" title="Permalink to this definition"></a></dt>
<dd><p>Get all the available Jira fields for a given Jira project and issue type.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="id1">
<h3>Bridge<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<p>This is the main class that holds handles to both Flow Production Tracking and Jira
and handles dispatching events to both sites.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sg_jira.Bridge">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sg_jira.</span></span><span class="sig-name descname"><span class="pre">Bridge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg_site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sg_script</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sg_script_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sg_http_proxy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/bridge.html#Bridge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Bridge" title="Permalink to this definition"></a></dt>
<dd><p>A bridge between Flow Production Tracking and Jira.</p>
<p>The bridge handles connections to the Flow Production Tracking and Jira servers and dispatches
sync events.</p>
<p>Instatiate a new bridge between the given PTR site and Jira site.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Jira Cloud requires the use of an API token and will not work with
a user’s password. See <a class="reference external" href="https://confluence.atlassian.com/x/Vo71Nw">https://confluence.atlassian.com/x/Vo71Nw</a>
for information on how to generate a token.
Jira Server will use PAT so please provide empty string as <cite>SGJIRA_JIRA_USER</cite>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sg_site</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking URL.</p></li>
<li><p><strong>sg_script</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking script user name.</p></li>
<li><p><strong>sg_script_key</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The script user key for the Flow Production Tracking script.</p></li>
<li><p><strong>jira_site</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Jira site url.</p></li>
<li><p><strong>jira_user</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Jira user name, either his email address or short
name.</p></li>
<li><p><strong>jira_secret</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The Jira user password or API key.</p></li>
<li><p><strong>sync_settings</strong> – A dictionary where keys are settings names.</p></li>
<li><p><strong>sg_http_proxy</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Optional, a http proxy to use for the Flow Production Tracking
connection, or None.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Bridge.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg_site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sg_script</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sg_script_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_settings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sg_http_proxy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/bridge.html#Bridge.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Bridge.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Instatiate a new bridge between the given PTR site and Jira site.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Jira Cloud requires the use of an API token and will not work with
a user’s password. See <a class="reference external" href="https://confluence.atlassian.com/x/Vo71Nw">https://confluence.atlassian.com/x/Vo71Nw</a>
for information on how to generate a token.
Jira Server will use PAT so please provide empty string as <cite>SGJIRA_JIRA_USER</cite>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sg_site</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking URL.</p></li>
<li><p><strong>sg_script</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Flow Production Tracking script user name.</p></li>
<li><p><strong>sg_script_key</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The script user key for the Flow Production Tracking script.</p></li>
<li><p><strong>jira_site</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Jira site url.</p></li>
<li><p><strong>jira_user</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Jira user name, either his email address or short
name.</p></li>
<li><p><strong>jira_secret</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The Jira user password or API key.</p></li>
<li><p><strong>sync_settings</strong> – A dictionary where keys are settings names.</p></li>
<li><p><strong>sg_http_proxy</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Optional, a http proxy to use for the Flow Production Tracking
connection, or None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Bridge.get_bridge">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_bridge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/bridge.html#Bridge.get_bridge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Bridge.get_bridge" title="Permalink to this definition"></a></dt>
<dd><p>Read the given settings and instantiate a new <a class="reference internal" href="#sg_jira.Bridge" title="sg_jira.Bridge"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bridge</span></code></a> with them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>settings_file</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to a settings Python file.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – on missing required settings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Bridge.read_settings">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/bridge.html#Bridge.read_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Bridge.read_settings" title="Permalink to this definition"></a></dt>
<dd><p>Read the given settings file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>settings_file</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to a settings Python file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple of settings:
(logger settings, shotgun settings, jira settings, sync settings)</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – if the file does not exist or if its name does not end
with <code class="docutils literal notranslate"><span class="pre">.py</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.Bridge.shotgun">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shotgun</span></span><a class="headerlink" href="#sg_jira.Bridge.shotgun" title="Permalink to this definition"></a></dt>
<dd><p>Return a connected <a class="reference internal" href="#sg_jira.shotgun_session.ShotgunSession" title="sg_jira.shotgun_session.ShotgunSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunSession</span></code></a> instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.Bridge.current_shotgun_user">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_shotgun_user</span></span><a class="headerlink" href="#sg_jira.Bridge.current_shotgun_user" title="Permalink to this definition"></a></dt>
<dd><p>Return the Flow Production Tracking user used for the connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Flow Production Tracking record dictionary with an <cite>id</cite> key and a <cite>type</cite> key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.Bridge.current_jira_username">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_jira_username</span></span><a class="headerlink" href="#sg_jira.Bridge.current_jira_username" title="Permalink to this definition"></a></dt>
<dd><p>Return the username of the current Jira user.</p>
<p>The jira API escapes special characters using %xx syntax when storing
the username. For example, the username <code class="docutils literal notranslate"><span class="pre">richard+hendricks</span></code> is stored
as <code class="docutils literal notranslate"><span class="pre">richard%2bhendricks</span></code> by the jira API. We decode the username here
before returning it to ensure we return the exact value (eg.
<code class="docutils literal notranslate"><span class="pre">richard+hendricks</span></code>)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A string with the username.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.Bridge.jira">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">jira</span></span><a class="headerlink" href="#sg_jira.Bridge.jira" title="Permalink to this definition"></a></dt>
<dd><p>Return a connected <a class="reference internal" href="#sg_jira.jira_session.JiraSession" title="sg_jira.jira_session.JiraSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">JiraSession</span></code></a> instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.Bridge.sync_settings_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sync_settings_names</span></span><a class="headerlink" href="#sg_jira.Bridge.sync_settings_names" title="Permalink to this definition"></a></dt>
<dd><p>Return the list of sync settings this bridge handles.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Bridge.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/bridge.html#Bridge.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Bridge.reset" title="Permalink to this definition"></a></dt>
<dd><p>Reset the bridge.</p>
<p>Clears all caches.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Bridge.get_syncer">
<span class="sig-name descname"><span class="pre">get_syncer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/bridge.html#Bridge.get_syncer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Bridge.get_syncer" title="Permalink to this definition"></a></dt>
<dd><p>Returns a <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> instance for the given settings name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>str</strong> – A settings name.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – for invalid settings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Bridge.sync_in_jira">
<span class="sig-name descname"><span class="pre">sync_in_jira</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/bridge.html#Bridge.sync_in_jira"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Bridge.sync_in_jira" title="Permalink to this definition"></a></dt>
<dd><p>Sync the given Flow Production Tracking Entity to Jira.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>settings_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The name of the settings to use for this sync.</p></li>
<li><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The Flow Production Tracking Entity type to sync.</p></li>
<li><p><strong>entity_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The id of the Flow Production Tracking Entity to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event meta data for the change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the Entity was actually synced in Jira, False if
syncing was skipped for any reason.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Bridge.sync_in_shotgun">
<span class="sig-name descname"><span class="pre">sync_in_shotgun</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">settings_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/bridge.html#Bridge.sync_in_shotgun"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Bridge.sync_in_shotgun" title="Permalink to this definition"></a></dt>
<dd><p>Sync the given Jira Resource to Flow Production Tracking.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>settings_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The name of the settings to use for this sync.</p></li>
<li><p><strong>resource_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The type of Jira resource sync, e.g. Issue.</p></li>
<li><p><strong>resource_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The id of the Jira resource to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event meta data for the change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the resource was actually synced in Flow Production Tracking, False if
syncing was skipped for any reason.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="id2">
<h3>Syncers<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<p>Base class in charge of initially determining whether to accept events
from Flow Production Tracking and Jira for syncing. If accepted, it then passes on
the event to a Handler to process the event.</p>
<p>This must be subclassed to implement a list of Handlers to dispatch
events to. Additional parameters can be accepted as well to pass on
to Handlers.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">.handlers</span><span class="w"> </span><span class="kn">import</span> <span class="n">EnableSyncingHandler</span><span class="p">,</span> <span class="n">NoteCommentHandler</span><span class="p">,</span> <span class="n">TaskIssueHandler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.syncer</span><span class="w"> </span><span class="kn">import</span> <span class="n">Syncer</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TaskIssueSyncer</span><span class="p">(</span><span class="n">Syncer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sync Flow Production Tracking Tasks as Jira Issues.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">issue_type</span><span class="o">=</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Instatiate a new Task/Issue syncer for the given bridge.</span>

<span class="sd">        :param str issue_type: Jira Issue type to use when creating new Issues.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_issue_type</span> <span class="o">=</span> <span class="n">issue_type</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TaskIssueSyncer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_task_issue_handler</span> <span class="o">=</span> <span class="n">TaskIssueHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_issue_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_note_comment_handler</span> <span class="o">=</span> <span class="n">NoteCommentHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># A handler combining the Task &lt;-&gt; Issue handler and the Note &lt;-&gt; Comment</span>
        <span class="c1"># handler. Task syncing to Jira starts if the Task &quot;Sync in Jira&quot; checkbox</span>
        <span class="c1"># is turned on. Notes linked to a Task being actively synced are automatically</span>
        <span class="c1"># synced without having to manually select them. A full sync is performed</span>
        <span class="c1"># when the Task checkbox is turned on.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_enable_syncing_handler</span> <span class="o">=</span> <span class="n">EnableSyncingHandler</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_task_issue_handler</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_note_comment_handler</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">handlers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return a list of :class:`~handlers.SyncHandler` instances.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_enable_syncing_handler</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_task_issue_handler</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_note_comment_handler</span><span class="p">,</span>
        <span class="p">]</span>
</pre></div>
</div>
<section id="syncer">
<h4>Syncer<a class="headerlink" href="#syncer" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="sg_jira.Syncer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sg_jira.</span></span><span class="sig-name descname"><span class="pre">Syncer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bridge</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hook_class</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/syncer.html#Syncer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Syncer" title="Permalink to this definition"></a></dt>
<dd><p>A class handling syncing between Flow Production Tracking and Jira.</p>
<p>All Syncers should define a list of <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a> which should reject
or accept and process events.</p>
<p>Instantiate a new syncer for the given bridge.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A unique name for the syncer.</p></li>
<li><p><strong>bridge</strong> – A <a class="reference internal" href="#sg_jira.Bridge" title="sg_jira.Bridge"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bridge</span></code></a> instance.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Syncer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bridge</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hook_class</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/syncer.html#Syncer.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Syncer.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Instantiate a new syncer for the given bridge.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A unique name for the syncer.</p></li>
<li><p><strong>bridge</strong> – A <a class="reference internal" href="#sg_jira.Bridge" title="sg_jira.Bridge"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bridge</span></code></a> instance.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.Syncer.bridge">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bridge</span></span><a class="headerlink" href="#sg_jira.Syncer.bridge" title="Permalink to this definition"></a></dt>
<dd><p>Returns the <a class="reference internal" href="#sg_jira.Bridge" title="sg_jira.Bridge"><code class="xref py py-class docutils literal notranslate"><span class="pre">Bridge</span></code></a> instance used by this syncer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.Syncer.shotgun">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shotgun</span></span><a class="headerlink" href="#sg_jira.Syncer.shotgun" title="Permalink to this definition"></a></dt>
<dd><p>Return a connected <a class="reference internal" href="#sg_jira.shotgun_session.ShotgunSession" title="sg_jira.shotgun_session.ShotgunSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunSession</span></code></a> instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.Syncer.jira">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">jira</span></span><a class="headerlink" href="#sg_jira.Syncer.jira" title="Permalink to this definition"></a></dt>
<dd><p>Return a connected Jira handle.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.Syncer.hook">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hook</span></span><a class="headerlink" href="#sg_jira.Syncer.hook" title="Permalink to this definition"></a></dt>
<dd><p>Return the <code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code> instance used by this syncer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.Syncer.handlers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">handlers</span></span><a class="headerlink" href="#sg_jira.Syncer.handlers" title="Permalink to this definition"></a></dt>
<dd><p>Needs to be re-implemented in deriving classes and return a list of
<a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a> instances.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Syncer.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/syncer.html#Syncer.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Syncer.setup" title="Permalink to this definition"></a></dt>
<dd><p>Check the Jira and Flow Production Tracking site, ensure that the sync can safely happen
and cache any value which is slow to retrieve.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Syncer.get_jira_project">
<span class="sig-name descname"><span class="pre">get_jira_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/syncer.html#Syncer.get_jira_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Syncer.get_jira_project" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the Jira Project with the given key, if any.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.Project</span></code> instance or None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Syncer.accept_shotgun_event">
<span class="sig-name descname"><span class="pre">accept_shotgun_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/syncer.html#Syncer.accept_shotgun_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Syncer.accept_shotgun_event" title="Permalink to this definition"></a></dt>
<dd><p>Accept or reject the given event for the given Flow Production Tracking Entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a> instance if the event is accepted for
processing, <cite>None</cite> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.Syncer.accept_jira_event">
<span class="sig-name descname"><span class="pre">accept_jira_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/syncer.html#Syncer.accept_jira_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.Syncer.accept_jira_event" title="Permalink to this definition"></a></dt>
<dd><p>Accept or reject the given event for the given Jira resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The type of Jira resource sync, e.g. Issue.</p></li>
<li><p><strong>resource_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The id of the Jira resource to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event meta data for the change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a> instance if the event is accepted for
processing, <cite>None</cite> otherwise.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="synchandlers">
<h3>SyncHandlers<a class="headerlink" href="#synchandlers" title="Permalink to this heading"></a></h3>
<p>Base class that handles a particular sync instance between Flow Production Tracking and Jira.</p>
<p>Handlers hold the main logic for syncing values between a Flow Production Tracking Entity type
and a Jira resource. They are owned by a <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> instance.
This base class defines the interface all handlers should support and
provides helpers methods useful to all implementations.</p>
<section id="synchandler">
<h4>SyncHandler<a class="headerlink" href="#synchandler" title="Permalink to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="sg_jira.handlers.SyncHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sg_jira.handlers.</span></span><span class="sig-name descname"><span class="pre">SyncHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">syncer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/sync_handler.html#SyncHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.SyncHandler" title="Permalink to this definition"></a></dt>
<dd><p>Base class to handle a particular sync between Flow Production Tracking and Jira.</p>
<p>Handlers typically handle syncing values between a Flow Production Tracking Entity type and
a Jira resource and are owned by a <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> instance.</p>
<p>This base class defines the interface all handlers should support and
provides some helpers which can be useful to all handlers.</p>
<p>Instantiate a handler for the given syncer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>syncer</strong> – A <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> instance.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.SyncHandler.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">syncer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/sync_handler.html#SyncHandler.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.SyncHandler.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Instantiate a handler for the given syncer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>syncer</strong> – A <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.SyncHandler.get_jira_project">
<span class="sig-name descname"><span class="pre">get_jira_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/sync_handler.html#SyncHandler.get_jira_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.SyncHandler.get_jira_project" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the Jira Project with the given key, if any.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.Project</span></code> instance or None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.SyncHandler.get_jira_issue">
<span class="sig-name descname"><span class="pre">get_jira_issue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">issue_key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/sync_handler.html#SyncHandler.get_jira_issue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.SyncHandler.get_jira_issue" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the Jira Issue with the given key, if any.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>issue_key</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Jira Issue key to look for.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.Issue</span></code> instance or None.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – if the Issue if not bound to any Project.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.SyncHandler.get_jira_user">
<span class="sig-name descname"><span class="pre">get_jira_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_project</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/sync_handler.html#SyncHandler.get_jira_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.SyncHandler.get_jira_user" title="Permalink to this definition"></a></dt>
<dd><p>Given an email address, find the associated Jira User in the given Jira Project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_email</strong> – The email address of the user we want to retrieve</p></li>
<li><p><strong>jira_project</strong> – An instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.Project</span></code> we want to retrieve the user from</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.User</span></code> instance or None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.SyncHandler.get_sg_user">
<span class="sig-name descname"><span class="pre">get_sg_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/sync_handler.html#SyncHandler.get_sg_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.SyncHandler.get_sg_user" title="Permalink to this definition"></a></dt>
<dd><p>Resolve the Flow Production Tracking user associated to the JIRA user passed in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Value of the to or from of a JIRA changelog.</p></li>
<li><p><strong>jira_user</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – User resource, typically the assignee field on an issue. Can be None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A FPTR user entity dictionary or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.SyncHandler.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/sync_handler.html#SyncHandler.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.SyncHandler.setup" title="Permalink to this definition"></a></dt>
<dd><p>This method can be re-implemented in deriving classes to Check the Jira
and Flow Production Tracking site, ensure that the sync can safely happen and cache any
value which is slow to retrieve.</p>
<p>This base implementation does nothing.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.SyncHandler.accept_shotgun_event">
<span class="sig-name descname"><span class="pre">accept_shotgun_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/sync_handler.html#SyncHandler.accept_shotgun_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.SyncHandler.accept_shotgun_event" title="Permalink to this definition"></a></dt>
<dd><p>Accept or reject the given event for the given Flow Production Tracking Entity.</p>
<p>Must be re-implemented in deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>True</cite> if the event is accepted for processing, <cite>False</cite> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.SyncHandler.process_shotgun_event">
<span class="sig-name descname"><span class="pre">process_shotgun_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/sync_handler.html#SyncHandler.process_shotgun_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.SyncHandler.process_shotgun_event" title="Permalink to this definition"></a></dt>
<dd><p>Process the given Flow Production Tracking event for the given Flow Production Tracking Entity</p>
<p>Must be re-implemented in deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The Flow Production Tracking Entity type to sync.</p></li>
<li><p><strong>entity_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The id of the Flow Production Tracking Entity to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event for the change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the event was successfully processed, False if the
sync didn’t happen for any reason.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.SyncHandler.accept_jira_event">
<span class="sig-name descname"><span class="pre">accept_jira_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/sync_handler.html#SyncHandler.accept_jira_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.SyncHandler.accept_jira_event" title="Permalink to this definition"></a></dt>
<dd><p>Accept or reject the given event for the given Jira resource.</p>
<p>Must be re-implemented in deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The type of Jira resource sync, e.g. Issue.</p></li>
<li><p><strong>resource_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The id of the Jira resource to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event meta data for the change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the event is accepted for processing, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.SyncHandler.process_jira_event">
<span class="sig-name descname"><span class="pre">process_jira_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/sync_handler.html#SyncHandler.process_jira_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.SyncHandler.process_jira_event" title="Permalink to this definition"></a></dt>
<dd><p>Process the given Jira event for the given Jira resource.</p>
<p>Must be re-implemented in deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The type of Jira resource sync, e.g. Issue.</p></li>
<li><p><strong>resource_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The id of the Jira resource to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event meta data for the change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the event was successfully processed, False if the
sync didn’t happen for any reason.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="id3">
<h4>EntityIssueHandler<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h4>
<p>Base class for syncing Flow Production Tracking Entities and Jira Issues. This inherits from
<a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sg_jira.handlers.EntityIssueHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sg_jira.handlers.</span></span><span class="sig-name descname"><span class="pre">EntityIssueHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">syncer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/entity_issue_handler.html#EntityIssueHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.EntityIssueHandler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.sync_handler.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a></p>
<p>Base class for handlers syncing a Flow Production Tracking Entity to a Jira Issue.</p>
<p>Instantiate an Entity Issue handler for the given syncer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>syncer</strong> – A <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> instance.</p></li>
<li><p><strong>issue_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A target Issue type, e.g. ‘Task’, ‘Story’.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EntityIssueHandler.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">syncer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/entity_issue_handler.html#EntityIssueHandler.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.EntityIssueHandler.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Instantiate an Entity Issue handler for the given syncer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>syncer</strong> – A <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> instance.</p></li>
<li><p><strong>issue_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A target Issue type, e.g. ‘Task’, ‘Story’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EntityIssueHandler.accept_jira_event">
<span class="sig-name descname"><span class="pre">accept_jira_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/entity_issue_handler.html#EntityIssueHandler.accept_jira_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.EntityIssueHandler.accept_jira_event" title="Permalink to this definition"></a></dt>
<dd><p>Accept or reject the given event for the given Jira resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The type of Jira resource sync, e.g. Issue.</p></li>
<li><p><strong>resource_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The id of the Jira resource to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event meta data for the change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the event is accepted for processing, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EntityIssueHandler.process_jira_event">
<span class="sig-name descname"><span class="pre">process_jira_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/entity_issue_handler.html#EntityIssueHandler.process_jira_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.EntityIssueHandler.process_jira_event" title="Permalink to this definition"></a></dt>
<dd><p>Process the given Jira event for the given Jira resource.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The type of Jira resource to sync, e.g. Issue.</p></li>
<li><p><strong>resource_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The id of the Jira resource to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event meta data for the change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the event was successfully processed, False if the
sync didn’t happen for any reason.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EntityIssueHandler.accept_shotgun_event">
<span class="sig-name descname"><span class="pre">accept_shotgun_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EntityIssueHandler.accept_shotgun_event" title="Permalink to this definition"></a></dt>
<dd><p>Accept or reject the given event for the given Flow Production Tracking Entity.</p>
<p>Must be re-implemented in deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>True</cite> if the event is accepted for processing, <cite>False</cite> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EntityIssueHandler.get_jira_issue">
<span class="sig-name descname"><span class="pre">get_jira_issue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">issue_key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EntityIssueHandler.get_jira_issue" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the Jira Issue with the given key, if any.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>issue_key</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Jira Issue key to look for.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.Issue</span></code> instance or None.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – if the Issue if not bound to any Project.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EntityIssueHandler.get_jira_project">
<span class="sig-name descname"><span class="pre">get_jira_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EntityIssueHandler.get_jira_project" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the Jira Project with the given key, if any.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.Project</span></code> instance or None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EntityIssueHandler.get_jira_user">
<span class="sig-name descname"><span class="pre">get_jira_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_project</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EntityIssueHandler.get_jira_user" title="Permalink to this definition"></a></dt>
<dd><p>Given an email address, find the associated Jira User in the given Jira Project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_email</strong> – The email address of the user we want to retrieve</p></li>
<li><p><strong>jira_project</strong> – An instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.Project</span></code> we want to retrieve the user from</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.User</span></code> instance or None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EntityIssueHandler.get_sg_user">
<span class="sig-name descname"><span class="pre">get_sg_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EntityIssueHandler.get_sg_user" title="Permalink to this definition"></a></dt>
<dd><p>Resolve the Flow Production Tracking user associated to the JIRA user passed in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Value of the to or from of a JIRA changelog.</p></li>
<li><p><strong>jira_user</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – User resource, typically the assignee field on an issue. Can be None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A FPTR user entity dictionary or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EntityIssueHandler.process_shotgun_event">
<span class="sig-name descname"><span class="pre">process_shotgun_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EntityIssueHandler.process_shotgun_event" title="Permalink to this definition"></a></dt>
<dd><p>Process the given Flow Production Tracking event for the given Flow Production Tracking Entity</p>
<p>Must be re-implemented in deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The Flow Production Tracking Entity type to sync.</p></li>
<li><p><strong>entity_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The id of the Flow Production Tracking Entity to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event for the change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the event was successfully processed, False if the
sync didn’t happen for any reason.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EntityIssueHandler.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EntityIssueHandler.setup" title="Permalink to this definition"></a></dt>
<dd><p>This method can be re-implemented in deriving classes to Check the Jira
and Flow Production Tracking site, ensure that the sync can safely happen and cache any
value which is slow to retrieve.</p>
<p>This base implementation does nothing.</p>
</dd></dl>

</dd></dl>

</section>
<section id="enablesyncinghandler">
<h4>EnableSyncingHandler<a class="headerlink" href="#enablesyncinghandler" title="Permalink to this heading"></a></h4>
<p>A handler that controls the initial sync for a Flow Production Tracking Task and Jira Issue when
the “Sync In Jira” checkbox is toggled in Flow Production Tracking. It combines multiple
handlers to begin the syncing process by performing a full sync each time the
checkbox is toggled on. This allows one to manually force a re-sync if needed
by just toggling the checkbox off and then on again.</p>
<p>Inherits from <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sg_jira.handlers.EnableSyncingHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sg_jira.handlers.</span></span><span class="sig-name descname"><span class="pre">EnableSyncingHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">syncer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/enable_syncing_handler.html#EnableSyncingHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.EnableSyncingHandler" title="Permalink to this definition"></a></dt>
<dd><p>A handler which combines multiple handlers to start syncing Tasks and Entities
linked to them when a Task “Sync In Jira” (sg_sync_in_jira) checkbox field
is changed in Flow Production Tracking.</p>
<p>A full sync is performed each time the checkbox is turned on. This allows
to manually force a re-sync if needed by just setting off the checkbox, and
then back to on.</p>
<p>Instantiate a new handler which combines the provided handlers.</p>
<p>The first handler in the list is assumed to be a primary handler, the
others are assumed to be secondary handlers.</p>
<p>Events will be sent to secondary handlers for processing only if the
primary handler was able to successfully process them.</p>
<p>This allows to control from the primary handler if a Flow Production Tracking Entity should
be synced or not, and then automatically start syncing secondary Entities
which are linked to this primary Entity, e.g. Notes on a Task, without
having to explicitely enable syncing for the linked Entities.</p>
<p>Combined handlers shouldn’t accept the events which are accepted by this
handler, but they need to be able to process them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>syncer</strong> – A <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> instance.</p></li>
<li><p><strong>handlers</strong> – A non empty list of <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a> instances.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EnableSyncingHandler.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">syncer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/enable_syncing_handler.html#EnableSyncingHandler.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.EnableSyncingHandler.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Instantiate a new handler which combines the provided handlers.</p>
<p>The first handler in the list is assumed to be a primary handler, the
others are assumed to be secondary handlers.</p>
<p>Events will be sent to secondary handlers for processing only if the
primary handler was able to successfully process them.</p>
<p>This allows to control from the primary handler if a Flow Production Tracking Entity should
be synced or not, and then automatically start syncing secondary Entities
which are linked to this primary Entity, e.g. Notes on a Task, without
having to explicitely enable syncing for the linked Entities.</p>
<p>Combined handlers shouldn’t accept the events which are accepted by this
handler, but they need to be able to process them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>syncer</strong> – A <a class="reference internal" href="#sg_jira.Syncer" title="sg_jira.Syncer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Syncer</span></code></a> instance.</p></li>
<li><p><strong>handlers</strong> – A non empty list of <a class="reference internal" href="#sg_jira.handlers.SyncHandler" title="sg_jira.handlers.SyncHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SyncHandler</span></code></a> instances.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EnableSyncingHandler.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/enable_syncing_handler.html#EnableSyncingHandler.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.EnableSyncingHandler.setup" title="Permalink to this definition"></a></dt>
<dd><p>Check the Jira and Flow Production Tracking site, ensure that the sync can safely happen.
This can be used as well to cache any value which is slow to retrieve.</p>
<p>Run all handlers setup.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EnableSyncingHandler.accept_shotgun_event">
<span class="sig-name descname"><span class="pre">accept_shotgun_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/enable_syncing_handler.html#EnableSyncingHandler.accept_shotgun_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.EnableSyncingHandler.accept_shotgun_event" title="Permalink to this definition"></a></dt>
<dd><p>Accept or reject the given event for the given Flow Production Tracking Entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>True</cite> if the event is accepted for processing, <cite>False</cite> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EnableSyncingHandler.process_shotgun_event">
<span class="sig-name descname"><span class="pre">process_shotgun_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/enable_syncing_handler.html#EnableSyncingHandler.process_shotgun_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.EnableSyncingHandler.process_shotgun_event" title="Permalink to this definition"></a></dt>
<dd><p>Process the given Flow Production Tracking event for the given Flow Production Tracking Entity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The Flow Production Tracking Entity type to sync.</p></li>
<li><p><strong>entity_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The id of the Flow Production Tracking Entity to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event for the change.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EnableSyncingHandler.accept_jira_event">
<span class="sig-name descname"><span class="pre">accept_jira_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/handlers/enable_syncing_handler.html#EnableSyncingHandler.accept_jira_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.handlers.EnableSyncingHandler.accept_jira_event" title="Permalink to this definition"></a></dt>
<dd><p>Accept or reject the given event for the given Jira resource.</p>
<p>This handler rejects all Jira events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The type of Jira resource sync, e.g. Issue.</p></li>
<li><p><strong>resource_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The id of the Jira resource to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event meta data for the change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the event is accepted for processing, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EnableSyncingHandler.get_jira_issue">
<span class="sig-name descname"><span class="pre">get_jira_issue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">issue_key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EnableSyncingHandler.get_jira_issue" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the Jira Issue with the given key, if any.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>issue_key</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – A Jira Issue key to look for.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.Issue</span></code> instance or None.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – if the Issue if not bound to any Project.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EnableSyncingHandler.get_jira_project">
<span class="sig-name descname"><span class="pre">get_jira_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EnableSyncingHandler.get_jira_project" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the Jira Project with the given key, if any.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.Project</span></code> instance or None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EnableSyncingHandler.get_jira_user">
<span class="sig-name descname"><span class="pre">get_jira_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_project</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EnableSyncingHandler.get_jira_user" title="Permalink to this definition"></a></dt>
<dd><p>Given an email address, find the associated Jira User in the given Jira Project.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_email</strong> – The email address of the user we want to retrieve</p></li>
<li><p><strong>jira_project</strong> – An instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.Project</span></code> we want to retrieve the user from</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">jira.resources.User</span></code> instance or None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EnableSyncingHandler.get_sg_user">
<span class="sig-name descname"><span class="pre">get_sg_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jira_user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EnableSyncingHandler.get_sg_user" title="Permalink to this definition"></a></dt>
<dd><p>Resolve the Flow Production Tracking user associated to the JIRA user passed in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Value of the to or from of a JIRA changelog.</p></li>
<li><p><strong>jira_user</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – User resource, typically the assignee field on an issue. Can be None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A FPTR user entity dictionary or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.handlers.EnableSyncingHandler.process_jira_event">
<span class="sig-name descname"><span class="pre">process_jira_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.handlers.EnableSyncingHandler.process_jira_event" title="Permalink to this definition"></a></dt>
<dd><p>Process the given Jira event for the given Jira resource.</p>
<p>Must be re-implemented in deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The type of Jira resource sync, e.g. Issue.</p></li>
<li><p><strong>resource_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The id of the Jira resource to sync.</p></li>
<li><p><strong>event</strong> – A dictionary with the event meta data for the change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the event was successfully processed, False if the
sync didn’t happen for any reason.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="utils">
<h3>Utils<a class="headerlink" href="#utils" title="Permalink to this heading"></a></h3>
<p>Common utility functions.</p>
<span class="target" id="module-sg_jira.utils"></span><dl class="py function">
<dt class="sig sig-object py" id="sg_jira.utils.utf8_to_unicode">
<span class="sig-prename descclassname"><span class="pre">sg_jira.utils.</span></span><span class="sig-name descname"><span class="pre">utf8_to_unicode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/utils.html#utf8_to_unicode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.utils.utf8_to_unicode" title="Permalink to this definition"></a></dt>
<dd><p>Convert any string in the given input to unicode. Strings are expected to be
in utf-8 encoding.</p>
<p>Treat containers by recursively iterating over all the values they contain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – A string, a list, a tuple, or a dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value with all strings converted to unicode.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – if a converted UTF-8 decoded key is already present in the
original value of a dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sg_jira.utils.unicode_to_utf8">
<span class="sig-prename descclassname"><span class="pre">sg_jira.utils.</span></span><span class="sig-name descname"><span class="pre">unicode_to_utf8</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/utils.html#unicode_to_utf8"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.utils.unicode_to_utf8" title="Permalink to this definition"></a></dt>
<dd><p>Convert any unicode in the given input to an utf8 encoded string value.</p>
<p>Treat containers by recursively iterating over all the values they contain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – A string, a list, a tuple, or a dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value with all unicode values converted to strings.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – if a converted UTF-8 encoded key is already present in the
original value of a dictionary.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sg_jira.errors">
<span id="errors"></span><h3>Errors<a class="headerlink" href="#module-sg_jira.errors" title="Permalink to this heading"></a></h3>
<dl class="py exception">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidSyncValue">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sg_jira.errors.</span></span><span class="sig-name descname"><span class="pre">InvalidSyncValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/errors.html#InvalidSyncValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.errors.InvalidSyncValue" title="Permalink to this definition"></a></dt>
<dd><p>Base class for exceptions raised when a value can’t be translated to a valid
value for a given field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The Jira or PTR field for which the exception was raised.</p></li>
<li><p><strong>value</strong> – The Jira or PTR value for which the exception was raised.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidSyncValue.field">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">field</span></span><a class="headerlink" href="#sg_jira.errors.InvalidSyncValue.field" title="Permalink to this definition"></a></dt>
<dd><p>Return the field for which the exception was raised.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidSyncValue.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#sg_jira.errors.InvalidSyncValue.value" title="Permalink to this definition"></a></dt>
<dd><p>Return the value for which the exception was raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidSyncValue.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.errors.InvalidSyncValue.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidShotgunValue">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sg_jira.errors.</span></span><span class="sig-name descname"><span class="pre">InvalidShotgunValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/errors.html#InvalidShotgunValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.errors.InvalidShotgunValue" title="Permalink to this definition"></a></dt>
<dd><p>An exception raised when a Flow Production Tracking value can’t be translated to a valid
Jira value for a given field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The Jira or PTR field for which the exception was raised.</p></li>
<li><p><strong>value</strong> – The Jira or PTR value for which the exception was raised.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidShotgunValue.field">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">field</span></span><a class="headerlink" href="#sg_jira.errors.InvalidShotgunValue.field" title="Permalink to this definition"></a></dt>
<dd><p>Return the field for which the exception was raised.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidShotgunValue.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#sg_jira.errors.InvalidShotgunValue.value" title="Permalink to this definition"></a></dt>
<dd><p>Return the value for which the exception was raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidShotgunValue.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.errors.InvalidShotgunValue.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidJiraValue">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sg_jira.errors.</span></span><span class="sig-name descname"><span class="pre">InvalidJiraValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sg_jira/errors.html#InvalidJiraValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sg_jira.errors.InvalidJiraValue" title="Permalink to this definition"></a></dt>
<dd><p>An exception raised when a Jira value can’t be translated to a valid
Flow Production Tracking value for a given field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The Jira or PTR field for which the exception was raised.</p></li>
<li><p><strong>value</strong> – The Jira or PTR value for which the exception was raised.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidJiraValue.field">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">field</span></span><a class="headerlink" href="#sg_jira.errors.InvalidJiraValue.field" title="Permalink to this definition"></a></dt>
<dd><p>Return the field for which the exception was raised.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidJiraValue.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#sg_jira.errors.InvalidJiraValue.value" title="Permalink to this definition"></a></dt>
<dd><p>Return the value for which the exception was raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sg_jira.errors.InvalidJiraValue.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sg_jira.errors.InvalidJiraValue.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="tests-ci">
<h2>Tests &amp; CI<a class="headerlink" href="#tests-ci" title="Permalink to this heading"></a></h2>
<p>Unit tests are in the <code class="docutils literal notranslate"><span class="pre">/tests</span></code> folder. A <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file is
available in this folder as well to install the required modules to run the
tests.</p>
<p>Run the tests from the tests directory with <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">run_tests.py</span></code>.</p>
<section id="continuous-integration-ci">
<h3>Continuous Integration (CI)<a class="headerlink" href="#continuous-integration-ci" title="Permalink to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/marketplace/azure-pipelines">Azure Pipelines</a> are used
for the continuous integration and run the following validations:</p>
<ul class="simple">
<li><p>Enforce reasonable PEP-8 conventions with Flake8.</p></li>
<li><p>Run unit tests on Linux, Mac and Windows with Python 3.9.</p></li>
</ul>
<p>Azure Pipelines jobs are defined by the description files in the
<code class="docutils literal notranslate"><span class="pre">/azure-pipelines</span></code> folder.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="debugging.html" class="btn btn-neutral float-left" title="Debugging" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="services.html" class="btn btn-neutral float-right" title="Installing as a Service" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autodesk.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 

  <script type="text/javascript">
    window.wafCCPAForceShow = true;
    (function(a,b,c,d){
      a='https://tags.tiqcdn.com/utag/autodesk/micro-basic/prod/utag.js';
      b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
      a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
  </script>


</body>
</html>